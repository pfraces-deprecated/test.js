<!DOCTYPE html>  <html> <head>   <title>test.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               test.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p>Testing JavaScript internals.</p>

<p>I will start testing which is said in 'JavaScript: The Good Parts' under
<code>node.js</code>. Future updates will include more readings and more environments.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">should</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;should&#39;</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * Helper functions</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * root()</span>
<span class="cm"> *</span>
<span class="cm"> * Returns the root object, `window` in the browser, or `global` on the server.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">root</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">;</span> <span class="p">})();</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm">* extend(o)</span>
<span class="cm">*</span>
<span class="cm">* Creates a new object which prototype points to the object received.</span>
<span class="cm">* Simple inheritance abstraction.</span>
<span class="cm">*/</span>
<span class="kd">function</span> <span class="nx">extend</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">F</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
  <span class="nx">F</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">o</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">F</span><span class="p">();</span>
<span class="p">}</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h1>"JavaScript: The Good Parts" by Douglas Crockford</h1>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;JavaScript: The Good Parts&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h2>1. Good Parts</h2>

<blockquote>
  <p>JavaScript's functions are first class objects with (mostly) lexical
      scoping. JavaScript is the first lambda language to go mainstream. Deep
      down, JavaScript has more in common with List and Scheme than with Java.
      <strong>It's Lisp in C's clothing.</strong> This makes JavaScript a remarkably
      powerful language.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>2. Grammar</h2>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;2. Grammar&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <h3>Reserved words</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Reserved words&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <blockquote>
  <p>Most of the reserved words are not used in the language.
      The language does not include some words that should have been reserved
      but were not, such as <code>undefined</code>, <code>NaN</code>, and <code>Infinity</code>.</p>
  
  <p>It is not permitted to name a variable or parameter with a reserved
      word. Worse, it is not permitted to use a reserved word as the name of
      an object property in an object literal or following a dot in a
      refinement.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should throw if used as variables&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var foo;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var in;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should not throw if they are not really reserved&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="kc">undefined</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
        <span class="nx">should</span><span class="p">.</span><span class="nx">exist</span><span class="p">(</span><span class="kc">NaN</span><span class="p">);</span>
        <span class="nx">should</span><span class="p">.</span><span class="nx">exist</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var undefined;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var NaN;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;var Infinity;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <h3>Numbers</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Numbers&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <blockquote>
  <p>Unlike most other programming languages, there is no separate integer
      type, so 1 and 1.0 are the same value.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;1 and 1.0 should be strict equals (===)&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <blockquote>
  <p>The value <code>NaN</code> is a number value that is the result of an operation
      that cannot produce a normal result. <code>NaN</code> is not equal to any value,
      including itself. You can detect <code>NaN</code> with the <code>isNaN(number)</code>
      function.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;NaN should not equal to any value, including itself&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kc">NaN</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="kc">NaN</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="mf">2.5</span><span class="p">);</span>
        <span class="kc">NaN</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="kc">NaN</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;isNaN() should detect a NaN value&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nb">isNaN</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">false</span><span class="p">;</span>
        <span class="nb">isNaN</span><span class="p">(</span><span class="kc">NaN</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;a bad conversion to Number should be NaN&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nb">isNaN</span><span class="p">(</span><span class="nb">Number</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;an imaginary number should be NaN&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nb">isNaN</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <blockquote>
  <p>The <code>Infinity</code> represents all values greater than
      <code>1.79769313486231570e+308</code>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;a num &gt; 1.79769313486231570e+308 should be Infinity&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">notSoBig</span> <span class="o">=</span> <span class="mf">1.79769313486231570</span><span class="nx">e</span><span class="o">+</span><span class="mi">308</span><span class="p">;</span>
        <span class="nx">notSoBig</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span>

        <span class="cm">/* notSoBig++ does not alter its value */</span>
        <span class="nx">notSoBig</span> <span class="o">*=</span> <span class="mf">1.1</span><span class="p">;</span>

        <span class="nx">notSoBig</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;Infinity should be Infinity&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kc">Infinity</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;a division by zero should not be NaN&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nb">isNaN</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">false</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;a division by zero should be Infinity&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">0</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <h3>Strings</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Strings&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <blockquote>
  <p>Strings are immutable. Once it is made, a string can never be changed.
      But it is easy to make a new string by concatenating other strings
      together with the <code>+</code> operator</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be immutable&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">&quot;foo&quot;</span><span class="p">;</span>
          <span class="nx">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">);</span>
          <span class="nx">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">;</span>
          <span class="nx">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">);</span>
        <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <blockquote>
  <p>Two strings containing exactly the same characters in the same order are
      considered to be the same string</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;with same characters in same order should be the same&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="s2">&quot;foo&quot;</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s2">&quot;f&quot;</span> <span class="o">+</span> <span class="s2">&quot;o&quot;</span> <span class="o">+</span> <span class="s2">&quot;o&quot;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <h3>Statements</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Statements&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <blockquote>
  <p>When used inside a function, the <code>var</code> statement defines the function
      private variables.</p>
  
  <p>A block is a set of statements wrapped in curly braces. Unlike many
      other languages, blocks in JavaScript do not create a new scope, so
      variables should be defined at the top of the function, not in blocks.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should not have block scope&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should have function scope&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
          <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span>
        <span class="p">})().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;without var, outer scope should be used&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
          <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span>
        <span class="p">})().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <blockquote>
  <p>Here are the <strong>falsy</strong> values:</p>
  
  <ul>
  <li><code>false</code></li>
  <li><code>null</code></li>
  <li><code>undefined</code></li>
  <li>The empty string <code>''</code></li>
  <li>The number <code>0</code></li>
  <li>The number <code>NaN</code></li>
  </ul>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;falsy values should be false&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kc">false</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="s1">&#39;&#39;</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>

        <span class="p">(</span><span class="o">!!</span><span class="kc">null</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">(</span><span class="o">!!</span><span class="kc">undefined</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="kc">NaN</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <blockquote>
  <p>All other values are <strong>truthy</strong>, including <code>true</code>, the string <code>'false'</code>,
      and all objects.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;truthy values should be true&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kc">true</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="s1">&#39; &#39;</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>

        <span class="s2">&quot;false&quot;</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">({}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">[].</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">ok</span><span class="p">;</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h2>3. Objects</h2>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;3. Objects&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h3>Retrieval</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Retrieval&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <blockquote>
  <p>Values can be retrieved from an object by wrapping a string expression
      in <code>[]</code>. If the string expression is literal, and if it is a legal
      JavaScript name and not a reserved word, then the dot notation can be
      used instead. The dot notation is preferred because it is more compact
      and reads better.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;retrieval should be done with dot notation&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">whoami</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">};</span>
        <span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">===</span> <span class="s1">&#39;foo&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should use square brackets with expressions&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;foo man choo&#39;</span><span class="o">:</span> <span class="s1">&#39;that is me!&#39;</span> <span class="p">};</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;foo.&#39;foo man choo&#39;;&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;foo[&#39;foo man choo&#39;];&quot;</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>

        <span class="kd">var</span> <span class="nx">fooRealName</span> <span class="o">=</span> <span class="s1">&#39;foo &#39;</span> <span class="o">+</span> <span class="s1">&#39;man &#39;</span> <span class="o">+</span> <span class="s1">&#39;choo&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">[</span><span class="s1">&#39;foo &#39;</span> <span class="o">+</span> <span class="s1">&#39;man &#39;</span> <span class="o">+</span> <span class="s1">&#39;choo&#39;</span><span class="p">].</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;that is me!&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">[</span><span class="nx">fooRealName</span><span class="p">].</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;that is me!&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <blockquote>
  <p>Attempting to retrieve values from <code>undefined</code> will throw a <code>TypeError</code>
      exception. This can be guarded against with the <code>&amp;&amp;</code>operator</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;properties of an undefined should throw&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

        <span class="cm">/* foo.should.be.a(&#39;undefined&#39;) throws */</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">foo</span> <span class="o">&amp;&amp;</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;properties of a null should throw&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;properties of defined entities should not throw&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
        <span class="nx">foo</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">;</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="p">}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="k">throw</span><span class="p">();</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <h3>Update</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Update&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    </pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <blockquote>
  <p>A value in an object can be updated by assignment. If the property name
      already exists in the object, the property value is replaced. If the
      object does not already have that property name, the object is
      <strong>augmented</strong></p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should augment with undefined properties&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>

        <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>Reference</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Reference&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <blockquote>
  <p>Objects are passed around by reference. They are never copied</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be passed by reference in assignment&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">{};</span>

        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">qux</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">);</span>

        <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">qux</span> <span class="o">=</span> <span class="s1">&#39;qux of foo&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">,</span> <span class="s1">&#39;qux of foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be passed by reference in functions&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>

        <span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">bar</span><span class="p">.</span><span class="nx">qux</span> <span class="o">=</span> <span class="s1">&#39;qux of bar&#39;</span><span class="p">;</span>
        <span class="p">})(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">,</span> <span class="s1">&#39;qux of bar&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <h3>Prototype</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Prototype&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <blockquote>
  <p>Every object is linked to a prototype object from which it can inherit
      properties. All objects created from object literals are linked to
      <code>Object.prototype</code>, an object that comes standard with JavaScript</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should exist Object.prototype&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">should</span><span class="p">.</span><span class="nx">exist</span><span class="p">(</span><span class="nb">Object</span><span class="p">);</span>
        <span class="nb">Object</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;only functions should have prototype property&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">({}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">);</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{}).</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;prototype&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be linked to Object.prototype by default&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s1">&#39;bar of Object&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar of Object&#39;</span><span class="p">);</span>

        <span class="cm">/* Augmenting Object.prototype causes subsequent tests to fail */</span>
        <span class="k">delete</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <blockquote>
  <p>When you make a new object , you can select the object that should be
      its prototype. The mechanism that JavaScript provides to do this is
      messy and complex, but it can be significantly simplified.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;prototype should be applied with the new operator&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">);</span>
        <span class="p">(</span><span class="k">new</span> <span class="nx">foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;prototype object should point to any object&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">);</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">foo</span><span class="p">();</span>

        <span class="cm">/* remember: prototype should be applied with the new operator */</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">);</span>

        <span class="p">(</span><span class="k">new</span> <span class="nx">bar</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <blockquote>
  <p>The prototype link has no effect on updating. When we make changes to an
      object, the object prototype is not touched.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;on object update, its prototype should not be touched&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="k">new</span> <span class="nx">foo</span><span class="p">());</span> 

        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <blockquote>
  <p>The prototype link is used only on retrieval. If we try to retrieve a
      property value from an object, and if the object lacks the property
      name, then JavaScript attempts to retrieve the property value from the
      prototype object. And if that object is lacking the property, then it
      goeas to its prototype, and so on until the process finally bottoms out
      with <code>Object.prototype</code>. If the desired property exists nowhere in the
      prototype chain, then the result is the <code>undefined</code> value. This is
      called <strong>delegation</strong>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;on retrieve, should delegate&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
          <span class="p">,</span> <span class="nx">qux</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

        <span class="nx">foo</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="nx">qux</span><span class="p">.</span><span class="nx">c</span> <span class="o">=</span> <span class="s1">&#39;qux&#39;</span><span class="p">;</span>

        <span class="nx">qux</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">qux</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        <span class="nx">qux</span><span class="p">.</span><span class="nx">c</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">);</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="nx">qux</span><span class="p">.</span><span class="nx">d</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <blockquote>
  <p>The prototype relationship is a dynamic relationship. If we add a new
      property to a prototype, that property will immediately be visible in
      all of the objects that are based on that prototype.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should delegate dynamicaly&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <h3>Reflection</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Reflection&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <blockquote>
  <p><code>hasOwnProperty</code> method returns <code>true</code> if the object has a particular
      property. It does not look at the prototype chain.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;hasOwnProperty should be true only for existing props&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">false</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should not look at the prototype chain&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">false</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="kc">true</span><span class="p">;</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <h3>Enumeration</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Enumeration&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <blockquote>
  <p>The <code>for in</code> statement can loop over all of the property names in an
      object. The enumeration will include all of the properties, so it is
      necessary to filter out the values you don't want. The most common
      filters are the <code>hasOwnProperty</code> method and using <code>typeof</code> to exclude
      functions</p>
  
  <p>There is no guarantee on the order of the names, so be prepared for the
      names to appear in any order.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;for..in should loop over all properties&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stack</span> <span class="o">=</span> <span class="p">[]</span>
          <span class="p">,</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">stack</span><span class="p">.</span><span class="nx">length</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;undesirable properties should be filtered&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">stack</span> <span class="o">=</span> <span class="p">[]</span>
          <span class="p">,</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">stack</span><span class="p">.</span><span class="nx">length</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <h3>Delete</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Delete&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <blockquote>
  <p>The <code>delete</code> operator can be used to remove a property from an object.
      It will remove a property from the object if it has one. It will not
      touch any of the objects in the prototype linkage.</p>
  
  <p>Removeing a property from an object may allow a property from the
      prototype linkage to shine through.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;delete should delete a property&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
        <span class="k">delete</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should delete only own properties&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

          <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
          <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
          <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>
          
          <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
          <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
          <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
          <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should shine properties from prototype linkage&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">}</span>
          <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

        <span class="nx">bar</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        
        <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <h2>4. Functions</h2>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;4. Functions&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <h3>Function Objects</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Function Objects&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <blockquote>
  <p>Functions in JavaScript are objects. Objects are collections of
      name/value pairs having a hidden link to a prototype object. Objects
      produced from object literals are linked to <code>Object.prototype</code>. Function
      objects are linked to <code>Function.prototype</code> (which is itself linked to
      <code>Object.prototype</code>). Every function is also created with two additional
      hidden properties: the function context and the code that implements the
      function behavior.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;functions should inherit from Function&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s1">&#39;bar of Function&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar of Function&#39;</span><span class="p">);</span>
        <span class="k">delete</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;Function should inherit from Object&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">);</span>

        <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s1">&#39;bar of Object&#39;</span><span class="p">;</span>
        <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">qux</span> <span class="o">=</span> <span class="s1">&#39;qux of Function&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar of Object&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">,</span> <span class="s1">&#39;qux of Function&#39;</span><span class="p">);</span>

        <span class="cm">/* Function inherits from Object, not vice versa */</span>
        <span class="kd">var</span> <span class="nx">foz</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="nx">foz</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;qux&#39;</span><span class="p">);</span>
        <span class="nx">foz</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar of Object&#39;</span><span class="p">);</span>

        <span class="k">delete</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>
        <span class="k">delete</span> <span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">qux</span><span class="p">;</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <blockquote>
  <p>Every function object is also created with a <code>prototype</code> property. Its
      value is an object with a <code>constructor</code> property whose value is <strong>the</strong>
      function. This is distinct from the hidden link to <code>Function.prototype</code>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;functions should have constructor&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;constructor&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;function constructor should be the function itself&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <blockquote>
  <p>Since functions are objects, they can be used like any other value.
      Functions can be stored in variables, objects, and arrays. Functions
      can be passed as arguments to functions, and functions can be returned
      from functions. Also, since functions are objects, functions can have
      methods.</p>
  
  <p>The thing that is special about functions is that they can be invoked.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked from variables&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
        <span class="nx">bar</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked as members&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">qux</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">};</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">qux</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked from arrays&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
        <span class="nx">bar</span><span class="p">[</span><span class="mi">0</span><span class="p">]().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked as arguments&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="kd">function</span> <span class="nx">bar</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="nx">x</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="p">}</span>
        <span class="nx">bar</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked as returning value&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="kd">function</span> <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span> <span class="p">}</span>
        <span class="nx">bar</span><span class="p">()().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be invoked having methods&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">}</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s1">&#39;bar of foo&#39;</span><span class="p">;</span>
        <span class="nx">foo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar of foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <h3>Function Literal</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Function Literal&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <blockquote>
  <p>The function can use its name to call itself recursively. If a function
      is not given a name it is said to be <strong>anonymous</strong>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should use its name to call itself&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">fact</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">x</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
          <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">fact</span><span class="p">(</span><span class="nx">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
        <span class="p">};</span>
        <span class="nx">foo</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">120</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;functions should be annonymous&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span> <span class="p">})().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <blockquote>
  <p>A function literal can appear anywhere that an expression can appear.
      Functions can be defined inside other functions. An inner function of
      course has access to its parameters and variables. An inner function
      also enjoys access to the parameters and variables of the functions it
      is nested within. The function object created by a function literal
      contains a link to the outer context. This is called <strong>closure</strong>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be defined inside other functions&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> 
            <span class="k">return</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="nx">foo</span><span class="p">();</span>
        <span class="p">})().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;inner functions should have access to its params&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">function</span> <span class="nx">sum2</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">two</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">two</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="nx">sum2</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
        <span class="p">})().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;inner functions shoud have access to outer contexts&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
          <span class="kd">function</span> <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="nx">foo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <h3>Invocation</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Invocation&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <blockquote>
  <p>In adition to the declared parameters, every function receives two
      additional parameters: <code>this</code> and <code>arguments</code>. The <code>this</code> parameter is
      vary important in object oriented programming, and its value is
      determined by the <strong>invocation pattern</strong>. There are four patterns of
      invocation in JavaScript: the <strong>method invocation pattern</strong>, the
      <strong>function invocation pattern</strong>, the <strong>constructor invocation pattern</strong>,
      and the <strong>apply invocation pattern</strong>. The patterns differ in how the
      bonus parameter <code>this</code> is initialized.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;functions should have a this parameter for free&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">should</span><span class="p">.</span><span class="nx">exist</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="p">})();</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;functions should have an arguments parameter for free&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">should</span><span class="p">.</span><span class="nx">exist</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
        <span class="p">})();</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <blockquote>
  <p>There is no runtime error when the number of arguments and the number of
      parameters do not match. If there are too many arguments, the extra
      arguments will be ignored. If there are too few arguments, the
      <code>undefined</code> value will be substituted for the missing values. There is
      no type checking on the argument values: any type of value can be passed
      to any parameter.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;too few arguments should produce undefined parameters&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">need2Args</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">a</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
          <span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nx">need2Args</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <h3>The Method Invocation Pattern</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;The Method Invocation Pattern&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <blockquote>
  <p>When a function is stored as a property of an object, we call it a
      <strong>method</strong>. When a method is invoked, <code>this</code> is bound to that object.</p>
  
  <p>A method can use <code>this</code> to access the object so that it can retrieve
      values from the object or modify the object. The binding of <code>this</code> to
      the object happens at invocation time. This very late binding makes
      functions that use <code>this</code> highly reusable. Methods that get their object
      context from <code>this</code> are called <strong>public methods</strong>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;this should be bound to the object on methods&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">getName</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">whoami</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">whoami</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span>
          <span class="p">,</span> <span class="nx">getName</span><span class="o">:</span> <span class="nx">getName</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">whoami</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span>
          <span class="p">,</span> <span class="nx">getName</span><span class="o">:</span> <span class="nx">getName</span>
        <span class="p">}</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">getName</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
        <span class="nx">bar</span><span class="p">.</span><span class="nx">getName</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should be bound to arrays&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">getLength</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">getLength</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">]().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

        <span class="nx">foo</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">]().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <h3>The Function Invocation Pattern</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;The Function Invocation Pattern&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <blockquote>
  <p>When a function is not the property of an object, then it is invoked as
      a function. When a function is invoked with this pattern, <code>this</code>is bound
      to the global object.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;function invocation should bound this to global obj&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">foo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">root</span><span class="p">());</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <blockquote>
  <p>A method cannot employ an inner function to help it do its work because
      the inner function does not share the method access to the object as its
      <code>this</code> is bound to the wrong value.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;function invocation should lose method access to obj&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">getFoo</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">function</span> <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
              <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">getFoo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">getFoo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">root</span><span class="p">());</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <blockquote>
  <p>There is an easy workaround. If the method defines a variable and
      assigns it the value of <code>this</code>, the inner function will have access to
      <code>this</code> through that variable.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;variable should preserve this&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
          <span class="nx">getFoo</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">itself</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="kd">function</span> <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
              <span class="k">return</span> <span class="nx">itself</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">};</span>
        <span class="nx">foo</span><span class="p">.</span><span class="nx">getFoo</span><span class="p">().</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <h3>The Constructor Invocation Pattern</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;The Constructor Invocation Pattern&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <blockquote>
  <p>JavaScript is a <strong>prototypal</strong> inheritance language. That means that
      objects can inherit properties directly from other objects. The language
      is class-free.</p>
  
  <p>If a function is invoked with the <code>new</code> prefix, then a new object will
      be created with a hidden link to the value of the function <code>prototype</code>
      member, and <code>this</code> will be bound to that new object.</p>
  
  <p>Functions that are intended to be used with the <code>new</code> prefix are called
      <strong>constructors</strong>. By convention, they are kept in variables with a
      capitalized name.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;this should be bound to new object&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">Create</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">Create</span><span class="p">();</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="nx">bar</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>

        <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Create</span><span class="p">();</span>
        <span class="nx">qux</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <h3>The Apply Invocation Pattern</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;The Apply Invocation Pattern&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <blockquote>
  <p>The <code>apply</code> method <em>[of any function]</em> lets us construct an array of
      arguments to use to invoke a function. It also lets us choose the value
      of <code>this</code>.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should use an array as arguments&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">sum</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">sum</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should change the value of this&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">getName</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">whoami</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">whoami</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span> <span class="p">};</span>
        <span class="nx">getName</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <h3>Arguments</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Arguments&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <blockquote>
  <p>A bonus parameter that is available to functions when they are invoked
      the <code>arguments</code> array. It gives the function access to all of the
      arguments that were supplied with the invocation, including excess
      arguments that were not assigned to parameters. This makes it possible
      to write functions that take an unspecified number of parameters.</p>
  
  <p>Because of a design error, <code>arguments</code> is not really an array. It is an
      array-like object. <code>arguments</code> has a <code>length</code> property, but it lacks all
      of the array methods.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should have length property&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">arguments</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;length&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="p">})(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;qux&#39;</span><span class="p">)</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should have not Array.prototype methods&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
          <span class="nx">arguments</span><span class="p">.</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;push&#39;</span><span class="p">);</span>
        <span class="p">})();</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should include excess arguments&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">sum</span> <span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">total</span> <span class="o">+=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="nx">total</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <h3>Return</h3>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Return&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <blockquote>
  <p>A function always return a value. If the <code>return</code> value is not
      specified, then <code>undefined</code> is returned.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should return undefined whith no return value&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">};</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
      <span class="p">});</span>

      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should return undefined whith no return statement&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{};</span>
        <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
      <span class="p">});</span></pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <blockquote>
  <p>If the function was invoked with the <code>new</code> prefix and the <code>return</code> value
      is not an object, then <code>this</code> (the new object) is returned instead.</p>
</blockquote>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;new should return this if not return an object&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">Foo</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
          <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">(</span><span class="k">new</span> <span class="nx">Foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
        <span class="p">(</span><span class="k">new</span> <span class="nx">Foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>
      <span class="p">});</span>
      
      <span class="nx">it</span><span class="p">(</span><span class="s1">&#39;new should return object if return an object&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">Foo</span> <span class="p">()</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">whoami</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
          <span class="k">return</span> <span class="p">{</span>
            <span class="nx">whoami</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span>
          <span class="p">};</span>
        <span class="p">}</span>
        <span class="p">(</span><span class="k">new</span> <span class="nx">Foo</span><span class="p">()).</span><span class="nx">should</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 